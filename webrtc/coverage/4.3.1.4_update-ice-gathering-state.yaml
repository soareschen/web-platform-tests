spec_url: https://w3c.github.io/webrtc-pc/archives/20170605/webrtc.html
section: 4.3.1.4
desc: Update the ICE gathering state
steps:
  - step: 1
    status: untestable
    desc: >
      If connection's [[isClosed]] slot is true, abort these steps.

  - step: 2
    status: tested
    files:
      - RTCPeerConnection-iceGatheringState
    desc: >
      Let newState be the value of deriving a new state value as described by
      the RTCIceGatheringState enum.

  - step: 3
    status: untestable
    desc: >
      If connection's ICE gathering state is equal to newState, abort these steps.

  - step: 4
    status: tested
    files:
      - RTCPeerConnection-iceGatheringState
    desc: >
      Set connection's ice gathering state to newState.

  - step: 5
    status: tested
    files:
      - RTCPeerConnection-iceGatheringState
    desc: >
      Fire a simple event named icegatheringstatechange at connection.

  - step: 6
    status: todo
    desc: >
      If newState is completed, fire an event named icecandidate with null at
      connection.
