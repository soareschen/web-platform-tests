spec_url: https://w3c.github.io/webrtc-pc/archives/20170605/webrtc.html
section: 4.3.2
desc: setConfiguration
steps:
  - status: tested
    desc: >
      When the setConfiguration method is invoked, the user agent MUST run the
      following steps
    steps:
      - step: 1
        status: trivial
        desc: >
          Let connection be the RTCPeerConnection on which the method was invoked.
      - step: 2
        status: todo
        desc: >
          If connection's [[isClosed]] slot is true, throw an InvalidStateError.

  - status: tested
    desc: >
      To set a configuration, run the following steps
    steps:
      - step: 1
        status: trivial
        desc: >
          Let configuration be the RTCConfiguration dictionary to be processed.

      - step: 2
        status: trivial
        desc: >
          Let connection be the target RTCPeerConnection object.

      - step: 3
        status: todo
        desc: >
          If configuration.peerIdentity is set and its value differs from the
          target peer identity, throw an InvalidModificationError.

      - step: 4
        status: tested
        files:
          - RTCCertficate
        desc: >
          If configuration.certificates is set and the set of certificates
          differs from the ones used when connection was constructed, throw an
          InvalidModificationError.

      - step: 5
        status: tested
        files:
          - RTCConfiguration-bundlePolicy
        desc: >
          If configuration.bundlePolicy is set and its value differs from the
          connection's bundle policy, throw an InvalidModificationError.

      - step: 6
        status: tested
        files:
          - RTCConfiguration-rtcpMuxPolicy
        desc: >
          If configuration.rtcpMuxPolicy is set and its value differs from the
          connection's rtcpMux policy, throw an InvalidModificationError.

      - step: 7
        status: todo
        desc: >
          If configuration.iceCandidatePoolSize is set and its value differs
          from the connection's previously set iceCandidatePoolSize, and
          setLocalDescription has already been called, throw an
          InvalidModificationError.

      - step: 8
        status: untestable
        desc: >
          Set the ICE Agent's ICE transports setting to the value of
          configuration.iceTransportPolicy . As defined in [JSEP]
          (section 4.1.16.), if the new ICE transports setting changes the
          existing setting, no action will be taken until the next gathering
          phase. If a script wants this to happen immediately, it should do
          an ICE restart.

      - step: 9
        status: untestable
        desc: >
          Set the ICE Agent's prefetched ICE candidate pool size as defined in
          [JSEP] (section 3.5.4. and section 4.1.1.) to the value of
          configuration.iceCandidatePoolSize . If the new ICE candidate pool
          size changes the existing setting, this may result in immediate
          gathering of new pooled candidates, or discarding of existing pooled
          candidates, as defined in [JSEP] (section 4.1.16.).

      - step:
